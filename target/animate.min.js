(function(n){var t={easing:{linear:function(n,t,e,i){return e*n/i+t}}};var e={},i=0,r=24,u;function a(n){i+=1;return e[i]=n}function f(n){delete e[n]}function o(){function n(){var n=c(),t;for(t in e){e[t].update(n)}}u=setInterval(n,1e3/r)}function c(){return+new Date}function l(){return function(r){var l,s,h=0,p=c(),v=r[0],d=r[1],g=r[2]||"linear",m,I,k=[],w=[],y,N=0,x;for(y in d){k.push(parseFloat(y))}k.sort();x=k.length;for(;N<x;N+=1){w.push(d[k[N]])}d=[k,w];function A(){var n=d[0],e=d[1],i=n[0],r=e[0],u=n[1],a=e[1],o=1,c=n.length,p;for(;o<c;o+=1){if(h>=n[o]){i=n[o];r=e[o];u=n[o+1];a=e[o+1];if(o===c-1){u=i;a=r}}}p=t.easing[g](h-i,r,a-r,u-i);if(m){if(!isNaN(p)){m.call(s,v,p)}}if(I){if(h>=n[c-1]){f(l);I.call(s,v,p)}}}return{play:function(){s=a(this);l=i;p=c()},pause:function(){f(l);s=l=!1},update:function(n){if(l){h+=(n-p)/1e3;A();p=n}},restart:function(){h=0;p=c();a(this);l=i},onUpdate:function(n){m=n;return this},onEnd:function(n){I=n;return this},extend:function(n,e){for(var i in e){t[n][i]=e[i]}},killAll:function(){return e={}},sleep:function(){clearInterval(u)},wake:function(){o()},destroy:function(){clearInterval(u);delete n.animate}}}(arguments)}o();n.animate=l})(this);